<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debouncing & Throttling</title>
</head>

<body>

    <input type="text">

    <script>

        let count = 0;
        function Work() {

            console.log("Netwrok Request ", count);
            count++;
        }

        // Debouncing -> rate limiting -> user events(pause/gap/delay)
        function debounce(work, delay) {

            let timerId;
            return function optWork() {

                clearTimeout(timerId);
                timerId = setTimeout(() => {
                    Work();
                }, delay);
            }
        }

        // Throttling -> rate limiting -> interval
        function throttle(work, delay) {

            let flag = true;

            return function optWork() {

                if (flag) {

                    work();
                    flag = false;
                }

                setTimeout(() => {
                    flag = true;
                }, delay);
            }
        }

        let optFn = throttle(Work, 500);

        let input = document.querySelector('input');
        input.addEventListener("keydown", optFn);

    </script>

</body>

</html>